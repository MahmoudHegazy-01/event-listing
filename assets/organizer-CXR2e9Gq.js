import"./style-Cy_DZJNK.js";import{f as h,m as y,t as v}from"./tech-DkbDmtgR.js";const s=[],b=[];function L(){localStorage.getItem("eventsArray")!==null&&H(localStorage.getItem("eventsArray"))}function f(){localStorage.removeItem("eventsArray"),D(),localStorage.setItem("eventsArray",b.toString())}L();g();function w(e){let t=e.innerHTML.search("<p>"),n=e.innerHTML.search("</p>"),l=e.innerHTML.substring(t+3,n);console.log(t),console.log(n),console.log(l);let o=s.filter(d=>d.title===l)[0];return e.innerHTML="",e.classList="",o}function C(e){console.log("DISPLAYING MODAL");const t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("img"),o=document.createElement("p"),d=document.createElement("p"),m=document.createElement("p"),r=document.createElement("p");e.image==="football.jpg"?l.src=h:e.image==="music.jpg"?l.src=y:e.image==="tech.webp"&&(l.src=v),l.classList="w-2xs h-50 col-start-1 col-end-2",o.innerHTML=e.title,d.innerHTML=`${e.date.getDate()}/${e.date.getMonth()}/${e.date.getFullYear()}`,m.innerHTML=e.category,r.innerHTML=e.description,n.appendChild(o),n.appendChild(d),n.appendChild(m),n.classList="col-start-1 col-end-2 row-start-2 row-end-3",t.appendChild(l),t.appendChild(n),t.appendChild(r),t.addEventListener("click",()=>{$(t)}),t.classList="dark:shadow-white gap-y-15 bg-gray-400 grid grid-cols-2 grid-rows-2 border-4 border-black shadow-black-200 shadow-2xs w-3xl h-96 p-3 text-lg hover:shadow-2xl rounded-2xl absolute top-23 left-90 z-2",document.getElementById("listing").classList.toggle("pointer-events-none"),document.body.appendChild(t)}function g(){const e=document.getElementById("listing");e.innerHTML="";let t;for(t of s){const n=document.createElement("div"),l=document.createElement("img"),o=document.createElement("p"),d=document.createElement("p"),m=document.createElement("p"),r=document.createElement("div"),i=document.createElement("button"),a=document.createElement("button");t.image==="football.jpg"?l.src=h:t.image==="music.jpg"?l.src=y:t.image==="tech.webp"&&(l.src=v),l.classList="w-2xs h-50",o.innerHTML=t.title,d.innerHTML=`${t.date.getDate()}/${t.date.getMonth()}/${t.date.getFullYear()}`,m.innerHTML=t.category,i.classList="border-2 rounded-xl p-2 bg-amber-500 basis-full",i.id=t.title,i.innerHTML="Delete",i.addEventListener("click",c=>{c.stopPropagation(),B(i.id,n)}),a.id=t.title,a.classList="border-2 rounded-xl p-2 bg-amber-200 basis-full",a.innerHTML="Edit",r.classList="flex gap-1 justify-between",r.appendChild(i),r.appendChild(a),n.appendChild(l),n.appendChild(o),n.appendChild(d),n.appendChild(m),n.appendChild(r),n.classList="dark:border-[#00B900] dark:shadow-white dark:bg-gray-800 border-4 border-black shadow-black-200 shadow-2xs w-2xs h-96 p-3 text-lg hover:shadow-2xl rounded-2xl",a.addEventListener("click",c=>{c.stopPropagation();let p=I(a.id,n);S(p)}),n.addEventListener("click",c=>{let p=w(c.currentTarget);C(p)}),e.appendChild(n)}}function E(){const e=document.getElementById("formAdd");document.body.removeChild(e),g()}function x(){const e=document.getElementById("formEdit");document.body.removeChild(e),g()}const M=document.getElementById("addEvent");M.addEventListener("click",T);function T(){const e=document.createElement("form");e.id="formAdd",e.classList="flex flex-col w-xs border-4 bg-linear-to-t from-green-300 to-amber-300  border-amber-300 p-6 rounded-2xl gap-y-2 absolute top-15 left-150",e.innerHTML=`
        <button class = "border-2 rounded-xl p-2 bg-amber-600 hover:bg-amber-700 w-15 justify-end"> Close </button>  
        <label for="image"> Image</label>
        <input type="text" name="image" id="image" class="border-2 rounded-xl p-2"/>
        <label for="title">Title</label>
        <input type="text" name="title" id="title" class="border-2 rounded-xl p-2"/>
        <label for="category">Category</label>
        <input type="text" name="category" id="category" class="border-2 rounded-xl p-2"/>
        <label for="description">Description</label>
        <input type="text" name="description" id="description" class="border-2 rounded-xl p-2"/>
        <label for = "date">Date</label>
        <input type="date" name="date" id="date" class="border-2 rounded-xl p-2"/>
        <button  type="submit" class="border-2 rounded-xl p-2 bg-green-300 hover:shadow-2xl hover:bg-green-500">Submit</button>`,document.body.appendChild(e);const n=e.children.item(11),l=e.children.item(0);console.log("BUTTON : "+n),n.addEventListener("click",o=>{o.preventDefault(),k(),g()}),l.addEventListener("click",o=>{o.preventDefault(),E()})}function k(){const e=document.getElementById("formAdd");console.log(e.children);let t=e.children.item(4),n=e.children.item(6),l=e.children.item(8),o=e.children.item(10),d=e.children.item(2),m=t.value,r=n.value,i=l.value,a=o.value,c=d.value,p={title:m,date:new Date(a),category:r,description:i,image:c};s.push(p),f(),E()}function D(){b.splice(0);let e;for(e of s){let t=JSON.stringify(e);b.push(t)}}function H(e){let t=e.split('"');s.splice(0);let n={title:"",date:new Date,category:"",description:"",image:""};for(let l=0;l<t.length;l++){switch(l%20){case 3:n.title=t[l];break;case 7:n.date=new Date(t[l]);break;case 11:n.category=t[l];break;case 15:n.description=t[l];break;case 19:n.image=t[l];break}l%20===0&&l!==0&&(s.push(n),n={title:"",date:new Date,category:"",description:"",image:""})}}function I(e,t){let n=s.filter(l=>l.title===e)[0];return t.innerHTML="",t.classList="",n}function B(e,t){let n=s.filter(o=>o.title===e)[0],l=s.indexOf(n);s.splice(l,1),f(),t.innerHTML="",t.classList=""}function A(e){const t=document.getElementById("formEdit");let n=t.children.item(4),l=t.children.item(6),o=t.children.item(8),d=t.children.item(10),m=t.children.item(2),r=n.value,i=l.value,a=o.value,c=d.value,p=m.value;r?e.title=r:e.title=e.title,i?e.category=i:e.category=e.category,a?e.description=a:e.description=e.description,c?e.date=new Date(c):e.date=e.date,p?e.image=p:e.image=e.image,f(),x()}function S(e){const t=document.createElement("form");t.id="formEdit",t.classList="flex flex-col w-xs border-4 bg-linear-to-t from-green-300 to-amber-300  border-amber-300 p-6 rounded-2xl gap-y-2 absolute top-15 left-150",t.innerHTML=`
        <button class = "border-2 rounded-xl p-2 bg-amber-600 hover:bg-amber-700 w-15 justify-end"> Close </button>  
        <label for="image"> Image : ${e.image}</label>
        <input type="text" name="image" id="image" class="border-2 rounded-xl p-2"/>
        <label for="title">Title : ${e.title}</label>
        <input type="text" name="title" id="title" class="border-2 rounded-xl p-2"/>
        <label for="category">Category : ${e.category}</label>
        <input type="text" name="category" id="category" class="border-2 rounded-xl p-2"/>
        <label for="description">Description : ${e.description}</label>
        <input type="text" name="description" id="description" class="border-2 rounded-xl p-2"/>
        <label for = "date">Date : ${e.date}</label>
        <input type="date" name="date" id="date" class="border-2 rounded-xl p-2"/>
        <button  type="submit" class="border-2 rounded-xl p-2 bg-green-300 hover:shadow-2xl hover:bg-green-500">Submit</button>`,document.body.appendChild(t);const l=t.children.item(11),o=t.children.item(0);l.addEventListener("click",d=>{d.preventDefault(),A(e),g()}),o.addEventListener("click",d=>{d.preventDefault(),x()})}function $(e){const t=document.getElementById("listing");t.innerHTML="",t.classList.toggle("pointer-events-none"),document.body.removeChild(e),g()}const u=document.getElementById("darkMode");u.addEventListener("click",()=>{document.body.classList.toggle("dark"),u.innerHTML=u.innerHTML==="White Mode"?"Dark Mode":"White Mode"});
